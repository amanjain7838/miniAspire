{"level":"error","message":{"METHOD":"UserModule@saveUser","RESPONSE":"Error: WHERE parameter \"email\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1743:13)\n    at /usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1734:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1732:35)\n    at MySQLQueryGenerator.getWhereConditions (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2075:19)\n    at MySQLQueryGenerator.selectQuery (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:988:28)\n    at MySQLQueryInterface.select (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at User.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async User.findOne (/usr/src/app/node_modules/sequelize/lib/model.js:1240:12)","TIMESTAMP":"2023-09-24 00:25:06"}}
{"level":"error","message":{"METHOD":"UserModule@saveUser","REQUEST":"aman@gmail.com","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.select (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async User.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1140:21)\n    at async User.findOne (/usr/src/app/node_modules/sequelize/lib/model.js:1240:12)","TIMESTAMP":"2023-09-24 00:26:08"}}
{"level":"error","message":{"METHOD":"UserModule@saveUser","REQUEST":"aman@gmail.com","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.select (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async User.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1140:21)\n    at async User.findOne (/usr/src/app/node_modules/sequelize/lib/model.js:1240:12)","TIMESTAMP":"2023-09-24 00:27:01"}}
{"date":"Sat Sep 23 2023 20:44:00 GMT+0000 (Coordinated Universal Time)","error":{},"exception":true,"level":"error","message":"uncaughtException: Route.post() requires a callback function but got a [object Undefined]\nError: Route.post() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as post] (/usr/src/app/node_modules/express/lib/router/route.js:202:15)\n    at proto.<computed> [as post] (/usr/src/app/node_modules/express/lib/router/index.js:510:19)\n    at IndexRoute.routes (/usr/src/app/dist/route/v1/Index.js:21:21)\n    at new IndexRoute (/usr/src/app/dist/route/v1/Index.js:16:14)\n    at new IndexRoute (/usr/src/app/dist/route/Index.js:9:24)\n    at Server.init (/usr/src/app/dist/Server.js:26:24)\n    at new Server (/usr/src/app/dist/Server.js:22:14)\n    at Server.getInstance (/usr/src/app/dist/Server.js:18:16)\n    at Object.<anonymous> (/usr/src/app/dist/Server.js:45:26)\n    at Module._compile (node:internal/modules/cjs/loader:1254:14)","os":{"loadavg":[1.45,1.57,1.24],"uptime":52235.84},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":187470,"external":1060675,"heapTotal":38313984,"heapUsed":24134200,"rss":85532672},"pid":7705,"uid":0,"version":"v18.15.0"},"stack":"Error: Route.post() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as post] (/usr/src/app/node_modules/express/lib/router/route.js:202:15)\n    at proto.<computed> [as post] (/usr/src/app/node_modules/express/lib/router/index.js:510:19)\n    at IndexRoute.routes (/usr/src/app/dist/route/v1/Index.js:21:21)\n    at new IndexRoute (/usr/src/app/dist/route/v1/Index.js:16:14)\n    at new IndexRoute (/usr/src/app/dist/route/Index.js:9:24)\n    at Server.init (/usr/src/app/dist/Server.js:26:24)\n    at new Server (/usr/src/app/dist/Server.js:22:14)\n    at Server.getInstance (/usr/src/app/dist/Server.js:18:16)\n    at Object.<anonymous> (/usr/src/app/dist/Server.js:45:26)\n    at Module._compile (node:internal/modules/cjs/loader:1254:14)","trace":[{"column":15,"file":"/usr/src/app/node_modules/express/lib/router/route.js","function":"Route.<computed> [as post]","line":202,"method":"<computed> [as post]","native":false},{"column":19,"file":"/usr/src/app/node_modules/express/lib/router/index.js","function":"proto.<computed> [as post]","line":510,"method":"<computed> [as post]","native":false},{"column":21,"file":"/usr/src/app/dist/route/v1/Index.js","function":"IndexRoute.routes","line":21,"method":"routes","native":false},{"column":14,"file":"/usr/src/app/dist/route/v1/Index.js","function":"new IndexRoute","line":16,"method":null,"native":false},{"column":24,"file":"/usr/src/app/dist/route/Index.js","function":"new IndexRoute","line":9,"method":null,"native":false},{"column":24,"file":"/usr/src/app/dist/Server.js","function":"Server.init","line":26,"method":"init","native":false},{"column":14,"file":"/usr/src/app/dist/Server.js","function":"new Server","line":22,"method":null,"native":false},{"column":16,"file":"/usr/src/app/dist/Server.js","function":"Server.getInstance","line":18,"method":"getInstance","native":false},{"column":26,"file":"/usr/src/app/dist/Server.js","function":null,"line":45,"method":null,"native":false},{"column":14,"file":"node:internal/modules/cjs/loader","function":"Module._compile","line":1254,"method":"_compile","native":false}]}
{"date":"Sat Sep 23 2023 21:01:04 GMT+0000 (Coordinated Universal Time)","error":{"name":"SequelizeDatabaseError","original":{"code":"ER_FK_COLUMN_NOT_NULL","errno":1830,"sql":"ALTER TABLE `loan` ADD FOREIGN KEY (`borrowerId`) REFERENCES `user` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;","sqlMessage":"Column 'borrowerId' cannot be NOT NULL: needed in a foreign key constraint 'loan_ibfk_1' SET NULL","sqlState":"HY000"},"parameters":{},"parent":{"code":"ER_FK_COLUMN_NOT_NULL","errno":1830,"sql":"ALTER TABLE `loan` ADD FOREIGN KEY (`borrowerId`) REFERENCES `user` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;","sqlMessage":"Column 'borrowerId' cannot be NOT NULL: needed in a foreign key constraint 'loan_ibfk_1' SET NULL","sqlState":"HY000"},"sql":"ALTER TABLE `loan` ADD FOREIGN KEY (`borrowerId`) REFERENCES `user` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;"},"exception":true,"level":"error","message":"uncaughtException: Column 'borrowerId' cannot be NOT NULL: needed in a foreign key constraint 'loan_ibfk_1' SET NULL\nError\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Loan.sync (/usr/src/app/node_modules/sequelize/lib/model.js:984:11)\n    at async Sequelize.sync (/usr/src/app/node_modules/sequelize/lib/sequelize.js:377:9)","os":{"loadavg":[2.55,2.18,1.8],"uptime":53260.2},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":334590,"external":1237924,"heapTotal":39362560,"heapUsed":26396560,"rss":87482368},"pid":8551,"uid":0,"version":"v18.15.0"},"stack":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Loan.sync (/usr/src/app/node_modules/sequelize/lib/model.js:984:11)\n    at async Sequelize.sync (/usr/src/app/node_modules/sequelize/lib/sequelize.js:377:9)","trace":[{"column":25,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js","function":"Query.run","line":52,"method":"run","native":false},{"column":28,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":11,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"async Loan.sync","line":984,"method":"sync","native":false},{"column":9,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
{"date":"Sat Sep 23 2023 21:01:25 GMT+0000 (Coordinated Universal Time)","error":{"name":"SequelizeDatabaseError","original":{"code":"ER_FK_COLUMN_NOT_NULL","errno":1830,"sql":"ALTER TABLE `loan` ADD FOREIGN KEY (`approvedBy`) REFERENCES `user` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;","sqlMessage":"Column 'approvedBy' cannot be NOT NULL: needed in a foreign key constraint 'loan_ibfk_2' SET NULL","sqlState":"HY000"},"parameters":{},"parent":{"code":"ER_FK_COLUMN_NOT_NULL","errno":1830,"sql":"ALTER TABLE `loan` ADD FOREIGN KEY (`approvedBy`) REFERENCES `user` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;","sqlMessage":"Column 'approvedBy' cannot be NOT NULL: needed in a foreign key constraint 'loan_ibfk_2' SET NULL","sqlState":"HY000"},"sql":"ALTER TABLE `loan` ADD FOREIGN KEY (`approvedBy`) REFERENCES `user` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;"},"exception":true,"level":"error","message":"uncaughtException: Column 'approvedBy' cannot be NOT NULL: needed in a foreign key constraint 'loan_ibfk_2' SET NULL\nError\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Loan.sync (/usr/src/app/node_modules/sequelize/lib/model.js:984:11)\n    at async Sequelize.sync (/usr/src/app/node_modules/sequelize/lib/sequelize.js:377:9)","os":{"loadavg":[2.99,2.28,1.85],"uptime":53281.3},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":114779,"external":1018113,"heapTotal":57188352,"heapUsed":23171528,"rss":88805376},"pid":8622,"uid":0,"version":"v18.15.0"},"stack":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Loan.sync (/usr/src/app/node_modules/sequelize/lib/model.js:984:11)\n    at async Sequelize.sync (/usr/src/app/node_modules/sequelize/lib/sequelize.js:377:9)","trace":[{"column":25,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js","function":"Query.run","line":52,"method":"run","native":false},{"column":28,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":11,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"async Loan.sync","line":984,"method":"sync","native":false},{"column":9,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
{"level":"error","message":{"METHOD":"LoanModule@createLoan","REQUEST":"{\"loanrequired\":\"10000\",\"tenure\":\"3\"}","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.insert (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async Loan.save (/usr/src/app/node_modules/sequelize/lib/model.js:2490:35)\n    at async Loan.create (/usr/src/app/node_modules/sequelize/lib/model.js:1362:12)","TIMESTAMP":"2023-09-24 09:48:06"}}
{"level":"error","message":{"METHOD":"LoanModule@createLoan","REQUEST":"{\"loanrequired\":\"10000\",\"tenure\":\"3\"}","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.insert (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async Loan.save (/usr/src/app/node_modules/sequelize/lib/model.js:2490:35)\n    at async Loan.create (/usr/src/app/node_modules/sequelize/lib/model.js:1362:12)","TIMESTAMP":"2023-09-24 09:48:53"}}
{"level":"error","message":{"METHOD":"LoanModule@createLoan","REQUEST":"{\"loanrequired\":\"10000\",\"tenure\":\"3\"}","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.insert (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async Loan.save (/usr/src/app/node_modules/sequelize/lib/model.js:2490:35)\n    at async Loan.create (/usr/src/app/node_modules/sequelize/lib/model.js:1362:12)","TIMESTAMP":"2023-09-24 09:49:08"}}
{"level":"error","message":{"METHOD":"LoanModule@createLoan","REQUEST":"{\"loanrequired\":\"10000\",\"tenure\":\"3\"}","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.insert (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async Loan.save (/usr/src/app/node_modules/sequelize/lib/model.js:2490:35)\n    at async Loan.create (/usr/src/app/node_modules/sequelize/lib/model.js:1362:12)","TIMESTAMP":"2023-09-24 09:51:48"}}
{"level":"error","message":{"METHOD":"LoanModule@createLoan","REQUEST":"{\"loanrequired\":\"10000\",\"tenure\":\"3\"}","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.insert (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async Loan.save (/usr/src/app/node_modules/sequelize/lib/model.js:2490:35)\n    at async Loan.create (/usr/src/app/node_modules/sequelize/lib/model.js:1362:12)","TIMESTAMP":"2023-09-24 09:52:25"}}
{"date":"Sun Sep 24 2023 08:48:10 GMT+0000 (Coordinated Universal Time)","error":{"name":"SequelizeEagerLoadingError"},"exception":true,"level":"error","message":"uncaughtException: AccessControl is associated to User using an alias. You've included an alias (accessControl), but it does not match the alias(es) defined in your association (AccessControl).\nSequelizeEagerLoadingError: AccessControl is associated to User using an alias. You've included an alias (accessControl), but it does not match the alias(es) defined in your association (AccessControl).\n    at User._getIncludedAssociation (/usr/src/app/node_modules/sequelize/lib/model.js:574:15)\n    at User._validateIncludedElement (/usr/src/app/node_modules/sequelize/lib/model.js:502:53)\n    at /usr/src/app/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at User._validateIncludedElements (/usr/src/app/node_modules/sequelize/lib/model.js:417:39)\n    at User.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async User.findOne (/usr/src/app/node_modules/sequelize/lib/model.js:1240:12)","os":{"loadavg":[3.27,2.03,1.82],"uptime":95685.93},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":58450,"external":959310,"heapTotal":24420352,"heapUsed":21187712,"rss":74051584},"pid":16995,"uid":0,"version":"v18.15.0"},"stack":"SequelizeEagerLoadingError: AccessControl is associated to User using an alias. You've included an alias (accessControl), but it does not match the alias(es) defined in your association (AccessControl).\n    at User._getIncludedAssociation (/usr/src/app/node_modules/sequelize/lib/model.js:574:15)\n    at User._validateIncludedElement (/usr/src/app/node_modules/sequelize/lib/model.js:502:53)\n    at /usr/src/app/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at User._validateIncludedElements (/usr/src/app/node_modules/sequelize/lib/model.js:417:39)\n    at User.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async User.findOne (/usr/src/app/node_modules/sequelize/lib/model.js:1240:12)","trace":[{"column":15,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"User._getIncludedAssociation","line":574,"method":"_getIncludedAssociation","native":false},{"column":53,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"User._validateIncludedElement","line":502,"method":"_validateIncludedElement","native":false},{"column":37,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":null,"line":421,"method":null,"native":false},{"column":null,"file":null,"function":"Array.map","line":null,"method":"map","native":false},{"column":39,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"User._validateIncludedElements","line":417,"method":"_validateIncludedElements","native":false},{"column":12,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"User.findAll","line":1124,"method":"findAll","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"async User.findOne","line":1240,"method":"findOne","native":false}]}
{"date":"Sun Sep 24 2023 08:49:54 GMT+0000 (Coordinated Universal Time)","error":{"name":"SequelizeEagerLoadingError"},"exception":true,"level":"error","message":"uncaughtException: AccessControl is associated to User using an alias. You've included an alias (access), but it does not match the alias(es) defined in your association (AccessControl).\nSequelizeEagerLoadingError: AccessControl is associated to User using an alias. You've included an alias (access), but it does not match the alias(es) defined in your association (AccessControl).\n    at User._getIncludedAssociation (/usr/src/app/node_modules/sequelize/lib/model.js:574:15)\n    at User._validateIncludedElement (/usr/src/app/node_modules/sequelize/lib/model.js:502:53)\n    at /usr/src/app/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at User._validateIncludedElements (/usr/src/app/node_modules/sequelize/lib/model.js:417:39)\n    at User.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async User.findOne (/usr/src/app/node_modules/sequelize/lib/model.js:1240:12)","os":{"loadavg":[1.4,1.72,1.73],"uptime":95789.48},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":84454,"external":987788,"heapTotal":57450496,"heapUsed":23426704,"rss":90169344},"pid":17093,"uid":0,"version":"v18.15.0"},"stack":"SequelizeEagerLoadingError: AccessControl is associated to User using an alias. You've included an alias (access), but it does not match the alias(es) defined in your association (AccessControl).\n    at User._getIncludedAssociation (/usr/src/app/node_modules/sequelize/lib/model.js:574:15)\n    at User._validateIncludedElement (/usr/src/app/node_modules/sequelize/lib/model.js:502:53)\n    at /usr/src/app/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at User._validateIncludedElements (/usr/src/app/node_modules/sequelize/lib/model.js:417:39)\n    at User.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async User.findOne (/usr/src/app/node_modules/sequelize/lib/model.js:1240:12)","trace":[{"column":15,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"User._getIncludedAssociation","line":574,"method":"_getIncludedAssociation","native":false},{"column":53,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"User._validateIncludedElement","line":502,"method":"_validateIncludedElement","native":false},{"column":37,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":null,"line":421,"method":null,"native":false},{"column":null,"file":null,"function":"Array.map","line":null,"method":"map","native":false},{"column":39,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"User._validateIncludedElements","line":417,"method":"_validateIncludedElements","native":false},{"column":12,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"User.findAll","line":1124,"method":"findAll","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"async User.findOne","line":1240,"method":"findOne","native":false}]}
{"date":"Sun Sep 24 2023 08:54:01 GMT+0000 (Coordinated Universal Time)","error":{},"exception":true,"level":"error","message":"uncaughtException: WHERE parameter \"id\" has invalid \"undefined\" value\nError: WHERE parameter \"id\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1743:13)\n    at /usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1734:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1732:35)\n    at MySQLQueryGenerator.getWhereConditions (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2075:19)\n    at MySQLQueryGenerator.selectQuery (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:988:28)\n    at MySQLQueryInterface.select (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at User.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[1.3,1.41,1.59],"uptime":96037.02},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":122809,"external":1026143,"heapTotal":56926208,"heapUsed":24996624,"rss":89763840},"pid":17341,"uid":0,"version":"v18.15.0"},"stack":"Error: WHERE parameter \"id\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1743:13)\n    at /usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1734:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1732:35)\n    at MySQLQueryGenerator.getWhereConditions (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:2075:19)\n    at MySQLQueryGenerator.selectQuery (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js:988:28)\n    at MySQLQueryInterface.select (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:59)\n    at User.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1140:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":13,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js","function":"MySQLQueryGenerator.whereItemQuery","line":1743,"method":"whereItemQuery","native":false},{"column":25,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js","function":null,"line":1734,"method":null,"native":false},{"column":null,"file":null,"function":"Array.forEach","line":null,"method":"forEach","native":false},{"column":35,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js","function":"MySQLQueryGenerator.whereItemsQuery","line":1732,"method":"whereItemsQuery","native":false},{"column":19,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js","function":"MySQLQueryGenerator.getWhereConditions","line":2075,"method":"getWhereConditions","native":false},{"column":28,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-generator.js","function":"MySQLQueryGenerator.selectQuery","line":988,"method":"selectQuery","native":false},{"column":59,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"MySQLQueryInterface.select","line":407,"method":"select","native":false},{"column":47,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"User.findAll","line":1140,"method":"findAll","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
{"date":"Sun Sep 24 2023 08:55:01 GMT+0000 (Coordinated Universal Time)","error":{"name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `User`.`id`, `User`.`accesslevel`, `AccessControl`.`id` AS `AccessControl.id`, `AccessControl`.`userid` AS `AccessControl.userid`, `AccessControl`.`accesslevel` AS `AccessControl.accesslevel`, `AccessControl`.`published` AS `AccessControl.published`, `AccessControl`.`createdAt` AS `AccessControl.createdAt`, `AccessControl`.`updatedAt` AS `AccessControl.updatedAt` FROM `user` AS `User` INNER JOIN `accessControl` AS `AccessControl` ON `User`.`id` = `AccessControl`.`userid` AND `AccessControl`.`published` = '1' AND `AccessControl`.`accesslevel` = 10 WHERE `User`.`id` = 1;","sqlMessage":"Unknown column 'User.accesslevel' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `User`.`id`, `User`.`accesslevel`, `AccessControl`.`id` AS `AccessControl.id`, `AccessControl`.`userid` AS `AccessControl.userid`, `AccessControl`.`accesslevel` AS `AccessControl.accesslevel`, `AccessControl`.`published` AS `AccessControl.published`, `AccessControl`.`createdAt` AS `AccessControl.createdAt`, `AccessControl`.`updatedAt` AS `AccessControl.updatedAt` FROM `user` AS `User` INNER JOIN `accessControl` AS `AccessControl` ON `User`.`id` = `AccessControl`.`userid` AND `AccessControl`.`published` = '1' AND `AccessControl`.`accesslevel` = 10 WHERE `User`.`id` = 1;","sqlMessage":"Unknown column 'User.accesslevel' in 'field list'","sqlState":"42S22"},"sql":"SELECT `User`.`id`, `User`.`accesslevel`, `AccessControl`.`id` AS `AccessControl.id`, `AccessControl`.`userid` AS `AccessControl.userid`, `AccessControl`.`accesslevel` AS `AccessControl.accesslevel`, `AccessControl`.`published` AS `AccessControl.published`, `AccessControl`.`createdAt` AS `AccessControl.createdAt`, `AccessControl`.`updatedAt` AS `AccessControl.updatedAt` FROM `user` AS `User` INNER JOIN `accessControl` AS `AccessControl` ON `User`.`id` = `AccessControl`.`userid` AND `AccessControl`.`published` = '1' AND `AccessControl`.`accesslevel` = 10 WHERE `User`.`id` = 1;"},"exception":true,"level":"error","message":"uncaughtException: Unknown column 'User.accesslevel' in 'field list'\nError\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.select (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async User.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1140:21)","os":{"loadavg":[2.96,1.81,1.72],"uptime":96096.38},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":298524,"external":1201858,"heapTotal":39362560,"heapUsed":28085728,"rss":88600576},"pid":17440,"uid":0,"version":"v18.15.0"},"stack":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.select (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async User.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1140:21)","trace":[{"column":25,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js","function":"Query.run","line":52,"method":"run","native":false},{"column":28,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async MySQLQueryInterface.select","line":407,"method":"select","native":false},{"column":21,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"async User.findAll","line":1140,"method":"findAll","native":false}]}
{"date":"Sun Sep 24 2023 09:09:27 GMT+0000 (Coordinated Universal Time)","error":{"code":"ERR_HTTP_HEADERS_SENT"},"exception":true,"level":"error","message":"uncaughtException: Cannot set headers after they are sent to the client\nError [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:399:5)\n    at ServerResponse.setHeader (node:_http_outgoing:663:11)\n    at ServerResponse.header (/usr/src/app/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/usr/src/app/node_modules/express/lib/response.js:170:12)\n    at /usr/src/app/dist/middlewares/Authentication.js:84:32\n    at Generator.next (<anonymous>)\n    at fulfilled (/usr/src/app/dist/middlewares/Authentication.js:5:58)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.43,2.02,1.85],"uptime":96963.07},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":464264,"external":1367598,"heapTotal":38838272,"heapUsed":28136064,"rss":88240128},"pid":18634,"uid":0,"version":"v18.15.0"},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:399:5)\n    at ServerResponse.setHeader (node:_http_outgoing:663:11)\n    at ServerResponse.header (/usr/src/app/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/usr/src/app/node_modules/express/lib/response.js:170:12)\n    at /usr/src/app/dist/middlewares/Authentication.js:84:32\n    at Generator.next (<anonymous>)\n    at fulfilled (/usr/src/app/dist/middlewares/Authentication.js:5:58)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":5,"file":"node:internal/errors","function":"new NodeError","line":399,"method":null,"native":false},{"column":11,"file":"node:_http_outgoing","function":"ServerResponse.setHeader","line":663,"method":"setHeader","native":false},{"column":10,"file":"/usr/src/app/node_modules/express/lib/response.js","function":"ServerResponse.header","line":767,"method":"header","native":false},{"column":12,"file":"/usr/src/app/node_modules/express/lib/response.js","function":"ServerResponse.send","line":170,"method":"send","native":false},{"column":32,"file":"/usr/src/app/dist/middlewares/Authentication.js","function":null,"line":84,"method":null,"native":false},{"column":null,"file":null,"function":"Generator.next","line":null,"method":"next","native":false},{"column":58,"file":"/usr/src/app/dist/middlewares/Authentication.js","function":"fulfilled","line":5,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
{"date":"Sun Sep 24 2023 09:11:32 GMT+0000 (Coordinated Universal Time)","error":{"code":"ERR_HTTP_HEADERS_SENT"},"exception":true,"level":"error","message":"uncaughtException: Cannot set headers after they are sent to the client\nError [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:399:5)\n    at ServerResponse.setHeader (node:_http_outgoing:663:11)\n    at ServerResponse.header (/usr/src/app/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/usr/src/app/node_modules/express/lib/response.js:170:12)\n    at /usr/src/app/dist/middlewares/Authentication.js:80:32\n    at Generator.next (<anonymous>)\n    at fulfilled (/usr/src/app/dist/middlewares/Authentication.js:5:58)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.09,2.04,1.88],"uptime":97087.49},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":83605,"external":986939,"heapTotal":56926208,"heapUsed":23745888,"rss":89665536},"pid":18878,"uid":0,"version":"v18.15.0"},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:399:5)\n    at ServerResponse.setHeader (node:_http_outgoing:663:11)\n    at ServerResponse.header (/usr/src/app/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/usr/src/app/node_modules/express/lib/response.js:170:12)\n    at /usr/src/app/dist/middlewares/Authentication.js:80:32\n    at Generator.next (<anonymous>)\n    at fulfilled (/usr/src/app/dist/middlewares/Authentication.js:5:58)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":5,"file":"node:internal/errors","function":"new NodeError","line":399,"method":null,"native":false},{"column":11,"file":"node:_http_outgoing","function":"ServerResponse.setHeader","line":663,"method":"setHeader","native":false},{"column":10,"file":"/usr/src/app/node_modules/express/lib/response.js","function":"ServerResponse.header","line":767,"method":"header","native":false},{"column":12,"file":"/usr/src/app/node_modules/express/lib/response.js","function":"ServerResponse.send","line":170,"method":"send","native":false},{"column":32,"file":"/usr/src/app/dist/middlewares/Authentication.js","function":null,"line":80,"method":null,"native":false},{"column":null,"file":null,"function":"Generator.next","line":null,"method":"next","native":false},{"column":58,"file":"/usr/src/app/dist/middlewares/Authentication.js","function":"fulfilled","line":5,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
{"date":"Sun Sep 24 2023 09:26:26 GMT+0000 (Coordinated Universal Time)","error":{},"exception":true,"level":"error","message":"uncaughtException: ApiResponse is not defined\nReferenceError: ApiResponse is not defined\n    at /usr/src/app/dist/controller/v1/AdminController.js:22:132\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.33,1.85,1.59],"uptime":97982},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":343219,"external":1246553,"heapTotal":39362560,"heapUsed":28428944,"rss":88731648},"pid":19196,"uid":0,"version":"v18.15.0"},"stack":"ReferenceError: ApiResponse is not defined\n    at /usr/src/app/dist/controller/v1/AdminController.js:22:132\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":132,"file":"/usr/src/app/dist/controller/v1/AdminController.js","function":null,"line":22,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
{"level":"info","message":{"MESSAGE":"Loan doesn't exists","METHOD":"LoanModule@approveLoan","REQUEST":{"loanId":"4"},"RESPONSE":null,"TIMESTAMP":"2023-09-24 15:01:52"}}
{"level":"info","message":{"MESSAGE":"Loan doesn't exists","METHOD":"LoanModule@approveLoan","REQUEST":{"loanId":"4"},"RESPONSE":null,"TIMESTAMP":"2023-09-24 15:02:44"}}
{"level":"info","message":{"MESSAGE":"Loan is already approved!","METHOD":"LoanModule@approveLoan","REQUEST":{"loanId":"3"},"RESPONSE":{"approval":"APPROVED","approvedBy":null,"borrowerId":1,"createdAt":"2023-09-24T04:24:46.000Z","id":3,"loanAmount":10000,"outStandingAmount":10000,"published":"1","tenure":3,"updatedAt":"2023-09-24T09:27:28.000Z"},"TIMESTAMP":"2023-09-24 15:09:15"}}
{"level":"info","message":{"MESSAGE":"Loan is already approved!","METHOD":"LoanModule@approveLoan","REQUEST":{"loanId":"3"},"RESPONSE":{"approval":"APPROVED","approvedBy":null,"borrowerId":1,"createdAt":"2023-09-24T04:24:46.000Z","id":3,"loanAmount":10000,"outStandingAmount":10000,"published":"1","tenure":3,"updatedAt":"2023-09-24T09:27:28.000Z"},"TIMESTAMP":"2023-09-24 15:20:37"}}
{"level":"error","message":{"METHOD":"LoanModule@createLoan","REQUEST":"{}","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.bulkInsert (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:346:21)\n    at async recursiveBulkCreate (/usr/src/app/node_modules/sequelize/lib/model.js:1697:25)\n    at async Payments.bulkCreate (/usr/src/app/node_modules/sequelize/lib/model.js:1786:12)","TIMESTAMP":"2023-09-24 15:21:02"}}
{"level":"error","message":{"METHOD":"LoanModule@createLoan","REQUEST":"{}","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.bulkInsert (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:346:21)\n    at async recursiveBulkCreate (/usr/src/app/node_modules/sequelize/lib/model.js:1697:25)\n    at async Payments.bulkCreate (/usr/src/app/node_modules/sequelize/lib/model.js:1786:12)","TIMESTAMP":"2023-09-24 15:21:41"}}
{"level":"error","message":{"METHOD":"LoanModule@approveLoan","REQUEST":"{}","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.bulkInsert (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:346:21)\n    at async recursiveBulkCreate (/usr/src/app/node_modules/sequelize/lib/model.js:1697:25)\n    at async Payments.bulkCreate (/usr/src/app/node_modules/sequelize/lib/model.js:1786:12)","TIMESTAMP":"2023-09-24 15:22:33"}}
{"level":"error","message":{"METHOD":"LoanModule@approveLoan","REQUEST":"{}","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.bulkInsert (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:346:21)\n    at async recursiveBulkCreate (/usr/src/app/node_modules/sequelize/lib/model.js:1697:25)\n    at async Payments.bulkCreate (/usr/src/app/node_modules/sequelize/lib/model.js:1786:12)","TIMESTAMP":"2023-09-24 15:24:06"}}
{"level":"error","message":{"METHOD":"LoanModule@approveLoan","REQUEST":"{}","RESPONSE":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.bulkUpdate (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:366:12)\n    at async Loan.update (/usr/src/app/node_modules/sequelize/lib/model.js:2010:28)","TIMESTAMP":"2023-09-24 15:25:09"}}
{"level":"info","message":{"MESSAGE":"Loan is already approved!","METHOD":"LoanModule@approveLoan","REQUEST":{"loanId":"3"},"RESPONSE":{"approval":"APPROVED","approvedBy":null,"borrowerId":1,"createdAt":"2023-09-24T04:24:46.000Z","id":3,"loanAmount":10000,"outStandingAmount":10000,"published":"1","tenure":3,"updatedAt":"2023-09-24T10:23:13.000Z"},"TIMESTAMP":"2023-09-24 16:00:05"}}
{"level":"info","message":{"MESSAGE":"Loan is already approved!","METHOD":"LoanModule@approveLoan","REQUEST":{"loanId":"3"},"RESPONSE":{"approval":"APPROVED","approvedBy":null,"borrowerId":1,"createdAt":"2023-09-24T04:24:46.000Z","id":3,"loanAmount":"10000.00","outStandingAmount":10000,"published":"1","tenure":3,"updatedAt":"2023-09-24T10:33:25.000Z"},"TIMESTAMP":"2023-09-24 16:05:51"}}
{"level":"error","message":{"METHOD":"LoanModule@createLoan","REQUEST":"{}","RESPONSE":"Error: Include unexpected. Element has to be either a Model, an Association or an object.\n    at Loan._conformInclude (/usr/src/app/node_modules/sequelize/lib/model.js:323:11)\n    at /usr/src/app/node_modules/sequelize/lib/model.js:270:61\n    at Array.map (<anonymous>)\n    at Loan._conformIncludes (/usr/src/app/node_modules/sequelize/lib/model.js:270:39)\n    at Loan._baseMerge (/usr/src/app/node_modules/sequelize/lib/model.js:622:10)\n    at Loan._defaultsOptions (/usr/src/app/node_modules/sequelize/lib/model.js:656:17)\n    at Loan._injectScope (/usr/src/app/node_modules/sequelize/lib/model.js:2053:10)\n    at Loan.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1111:10)\n    at LoanModule.<anonymous> (/usr/src/app/dist/modules/LoanModule.js:124:62)\n    at Generator.next (<anonymous>)","TIMESTAMP":"2023-09-24 16:14:27"}}
{"level":"error","message":{"METHOD":"LoanModule@createLoan","REQUEST":"{}","RESPONSE":"SequelizeEagerLoadingError: Payments is associated to Loan using an alias. You've included an alias (emiTenure), but it does not match the alias(es) defined in your association (Payments).\n    at Loan._getIncludedAssociation (/usr/src/app/node_modules/sequelize/lib/model.js:574:15)\n    at Loan._validateIncludedElement (/usr/src/app/node_modules/sequelize/lib/model.js:502:53)\n    at /usr/src/app/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at Loan._validateIncludedElements (/usr/src/app/node_modules/sequelize/lib/model.js:417:39)\n    at Loan.findAll (/usr/src/app/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","TIMESTAMP":"2023-09-24 16:14:43"}}
{"level":"info","message":{"MESSAGE":"Loan is already approved!","METHOD":"LoanModule@approveLoan","REQUEST":{"loanId":"3"},"RESPONSE":{"approval":"APPROVED","approvedBy":1,"borrowerId":1,"createdAt":"2023-09-24T04:24:46.000Z","id":3,"loanAmount":"10.00","outStandingAmount":"3.00","published":"1","tenure":3,"updatedAt":"2023-09-24T10:40:00.000Z"},"TIMESTAMP":"2023-09-24 16:15:17"}}
{"date":"Sun Sep 24 2023 10:48:56 GMT+0000 (Coordinated Universal Time)","error":{},"exception":true,"level":"error","message":"uncaughtException: Route.put() requires a callback function but got a [object Undefined]\nError: Route.put() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as put] (/usr/src/app/node_modules/express/lib/router/route.js:202:15)\n    at proto.<computed> [as put] (/usr/src/app/node_modules/express/lib/router/index.js:510:19)\n    at IndexRoute.routes (/usr/src/app/dist/route/v1/Index.js:22:21)\n    at new IndexRoute (/usr/src/app/dist/route/v1/Index.js:16:14)\n    at new IndexRoute (/usr/src/app/dist/route/Index.js:9:24)\n    at Server.init (/usr/src/app/dist/Server.js:26:24)\n    at new Server (/usr/src/app/dist/Server.js:22:14)\n    at Server.getInstance (/usr/src/app/dist/Server.js:18:16)\n    at Object.<anonymous> (/usr/src/app/dist/Server.js:45:26)\n    at Module._compile (node:internal/modules/cjs/loader:1254:14)","os":{"loadavg":[2.24,1.77,1.54],"uptime":102932.24},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":190603,"external":1063808,"heapTotal":38313984,"heapUsed":21780040,"rss":86048768},"pid":21407,"uid":0,"version":"v18.15.0"},"stack":"Error: Route.put() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as put] (/usr/src/app/node_modules/express/lib/router/route.js:202:15)\n    at proto.<computed> [as put] (/usr/src/app/node_modules/express/lib/router/index.js:510:19)\n    at IndexRoute.routes (/usr/src/app/dist/route/v1/Index.js:22:21)\n    at new IndexRoute (/usr/src/app/dist/route/v1/Index.js:16:14)\n    at new IndexRoute (/usr/src/app/dist/route/Index.js:9:24)\n    at Server.init (/usr/src/app/dist/Server.js:26:24)\n    at new Server (/usr/src/app/dist/Server.js:22:14)\n    at Server.getInstance (/usr/src/app/dist/Server.js:18:16)\n    at Object.<anonymous> (/usr/src/app/dist/Server.js:45:26)\n    at Module._compile (node:internal/modules/cjs/loader:1254:14)","trace":[{"column":15,"file":"/usr/src/app/node_modules/express/lib/router/route.js","function":"Route.<computed> [as put]","line":202,"method":"<computed> [as put]","native":false},{"column":19,"file":"/usr/src/app/node_modules/express/lib/router/index.js","function":"proto.<computed> [as put]","line":510,"method":"<computed> [as put]","native":false},{"column":21,"file":"/usr/src/app/dist/route/v1/Index.js","function":"IndexRoute.routes","line":22,"method":"routes","native":false},{"column":14,"file":"/usr/src/app/dist/route/v1/Index.js","function":"new IndexRoute","line":16,"method":null,"native":false},{"column":24,"file":"/usr/src/app/dist/route/Index.js","function":"new IndexRoute","line":9,"method":null,"native":false},{"column":24,"file":"/usr/src/app/dist/Server.js","function":"Server.init","line":26,"method":"init","native":false},{"column":14,"file":"/usr/src/app/dist/Server.js","function":"new Server","line":22,"method":null,"native":false},{"column":16,"file":"/usr/src/app/dist/Server.js","function":"Server.getInstance","line":18,"method":"getInstance","native":false},{"column":26,"file":"/usr/src/app/dist/Server.js","function":null,"line":45,"method":null,"native":false},{"column":14,"file":"node:internal/modules/cjs/loader","function":"Module._compile","line":1254,"method":"_compile","native":false}]}
{"level":"info","message":{"MESSAGE":"Loan is already approved!","METHOD":"LoanModule@approveLoan","REQUEST":{"loanId":"3"},"RESPONSE":{"approval":"APPROVED","approvedBy":1,"borrowerId":1,"createdAt":"2023-09-24T04:24:46.000Z","id":3,"loanAmount":"10.00","outStandingAmount":"3.00","published":"1","tenure":3,"updatedAt":"2023-09-24T10:45:35.000Z"},"TIMESTAMP":"2023-09-24 16:37:18"}}
{"level":"info","message":{"MESSAGE":"Loan is already approved!","METHOD":"LoanModule@approveLoan","REQUEST":{"loanId":"3"},"RESPONSE":{"approval":"APPROVED","approvedBy":1,"borrowerId":1,"createdAt":"2023-09-24T04:24:46.000Z","id":3,"loanAmount":"10.00","outStandingAmount":"3.00","published":"1","tenure":3,"updatedAt":"2023-09-24T10:45:35.000Z"},"TIMESTAMP":"2023-09-24 16:37:31"}}
{"date":"Sun Sep 24 2023 12:43:02 GMT+0000 (Coordinated Universal Time)","error":{"fields":["loanId"],"index":"payments_loanId_foreign_idx","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"sql":"ALTER TABLE `payments` ADD `loanId` INTEGER NOT NULL, ADD CONSTRAINT `payments_loanId_foreign_idx` FOREIGN KEY (`loanId`) REFERENCES `loan` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE;","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`aspire`.`#sql-1_6ee`, CONSTRAINT `payments_loanId_foreign_idx` FOREIGN KEY (`loanId`) REFERENCES `loan` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"parameters":{},"parent":{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"sql":"ALTER TABLE `payments` ADD `loanId` INTEGER NOT NULL, ADD CONSTRAINT `payments_loanId_foreign_idx` FOREIGN KEY (`loanId`) REFERENCES `loan` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE;","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`aspire`.`#sql-1_6ee`, CONSTRAINT `payments_loanId_foreign_idx` FOREIGN KEY (`loanId`) REFERENCES `loan` (`id`) ON UPDATE CASCADE)","sqlState":"23000"},"reltype":"child","sql":"ALTER TABLE `payments` ADD `loanId` INTEGER NOT NULL, ADD CONSTRAINT `payments_loanId_foreign_idx` FOREIGN KEY (`loanId`) REFERENCES `loan` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE;","table":"loan"},"exception":true,"level":"error","message":"uncaughtException: Cannot add or update a child row: a foreign key constraint fails (`aspire`.`#sql-1_6ee`, CONSTRAINT `payments_loanId_foreign_idx` FOREIGN KEY (`loanId`) REFERENCES `loan` (`id`) ON UPDATE CASCADE)\nError\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addColumn (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:184:12)\n    at async Payments.sync (/usr/src/app/node_modules/sequelize/lib/model.js:958:11)\n    at async Sequelize.sync (/usr/src/app/node_modules/sequelize/lib/sequelize.js:377:9)","os":{"loadavg":[2.07,0.88,0.86],"uptime":109778.32},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":110982,"external":1014316,"heapTotal":56664064,"heapUsed":23855576,"rss":88834048},"pid":23783,"uid":0,"version":"v18.15.0"},"stack":"Error\n    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.addColumn (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:184:12)\n    at async Payments.sync (/usr/src/app/node_modules/sequelize/lib/model.js:958:11)\n    at async Sequelize.sync (/usr/src/app/node_modules/sequelize/lib/sequelize.js:377:9)","trace":[{"column":25,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js","function":"Query.run","line":52,"method":"run","native":false},{"column":28,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async MySQLQueryInterface.addColumn","line":184,"method":"addColumn","native":false},{"column":11,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"async Payments.sync","line":958,"method":"sync","native":false},{"column":9,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
{"level":"info","message":{"MESSAGE":"Loan doesn't exists","METHOD":"PaymentsModule@makeRepayment","REQUEST":{"loanId":"3"},"RESPONSE":null,"TIMESTAMP":"2023-09-24 18:17:35"}}
{"level":"info","message":{"MESSAGE":"No scheduled emi found!","METHOD":"PaymentsModule@makeRepayment","REQUEST":{"loanId":"1"},"RESPONSE":{"approval":"APPROVED","approvedBy":1,"borrowerId":1,"createdAt":"2023-09-24T12:44:40.000Z","id":1,"loanAmount":"10000.00","loanStatus":null,"outStandingAmount":"10000.00","published":"1","tenure":3,"updatedAt":"2023-09-24T12:46:02.000Z"},"TIMESTAMP":"2023-09-24 18:22:30"}}
{"level":"info","message":{"MESSAGE":"No scheduled emi found!","METHOD":"PaymentsModule@makeRepayment","REQUEST":{"loanId":"1"},"RESPONSE":{"approval":"APPROVED","approvedBy":1,"borrowerId":1,"createdAt":"2023-09-24T12:44:40.000Z","id":1,"loanAmount":"10000.00","loanStatus":null,"outStandingAmount":"10000.00","published":"1","tenure":3,"updatedAt":"2023-09-24T12:46:02.000Z"},"TIMESTAMP":"2023-09-24 18:25:32"}}
{"date":"Sun Sep 24 2023 13:06:15 GMT+0000 (Coordinated Universal Time)","error":{"sql":"UPDATE `payments` SET `amountPaid`=?,`updatedAt`=? WHERE `id` = ?"},"exception":true,"level":"error","message":"uncaughtException: commit has been called on this transaction(edd52b5f-4e70-4007-b405-a0b0b2e63268), you can no longer use it. (The rejected query is attached as the 'sql' property of this error)\nError: commit has been called on this transaction(edd52b5f-4e70-4007-b405-a0b0b2e63268), you can no longer use it. (The rejected query is attached as the 'sql' property of this error)\n    at checkTransaction (/usr/src/app/node_modules/sequelize/lib/sequelize.js:294:23)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:304:7\n    at /usr/src/app/node_modules/retry-as-promised/dist/index.js:59:25\n    at new Promise (<anonymous>)\n    at retryAsPromised (/usr/src/app/node_modules/retry-as-promised/dist/index.js:48:12)\n    at Sequelize.query (/usr/src/app/node_modules/sequelize/lib/sequelize.js:300:12)\n    at MySQLQueryInterface.bulkUpdate (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:366:33)\n    at Payments.update (/usr/src/app/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.7,2.04,1.69],"uptime":111171.03},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":178396,"external":1081730,"heapTotal":57188352,"heapUsed":24510168,"rss":89989120},"pid":24579,"uid":0,"version":"v18.15.0"},"stack":"Error: commit has been called on this transaction(edd52b5f-4e70-4007-b405-a0b0b2e63268), you can no longer use it. (The rejected query is attached as the 'sql' property of this error)\n    at checkTransaction (/usr/src/app/node_modules/sequelize/lib/sequelize.js:294:23)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:304:7\n    at /usr/src/app/node_modules/retry-as-promised/dist/index.js:59:25\n    at new Promise (<anonymous>)\n    at retryAsPromised (/usr/src/app/node_modules/retry-as-promised/dist/index.js:48:12)\n    at Sequelize.query (/usr/src/app/node_modules/sequelize/lib/sequelize.js:300:12)\n    at MySQLQueryInterface.bulkUpdate (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:366:33)\n    at Payments.update (/usr/src/app/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":23,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":"checkTransaction","line":294,"method":null,"native":false},{"column":7,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":null,"line":304,"method":null,"native":false},{"column":25,"file":"/usr/src/app/node_modules/retry-as-promised/dist/index.js","function":null,"line":59,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":12,"file":"/usr/src/app/node_modules/retry-as-promised/dist/index.js","function":"retryAsPromised","line":48,"method":null,"native":false},{"column":12,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":"Sequelize.query","line":300,"method":"query","native":false},{"column":33,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"MySQLQueryInterface.bulkUpdate","line":366,"method":"bulkUpdate","native":false},{"column":54,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"Payments.update","line":2010,"method":"update","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
{"date":"Sun Sep 24 2023 13:06:15 GMT+0000 (Coordinated Universal Time)","error":{"sql":"UPDATE `loan` SET `outStandingAmount`=?,`loanStatus`=?,`updatedAt`=? WHERE `id` = ?"},"exception":true,"level":"error","message":"uncaughtException: commit has been called on this transaction(edd52b5f-4e70-4007-b405-a0b0b2e63268), you can no longer use it. (The rejected query is attached as the 'sql' property of this error)\nError: commit has been called on this transaction(edd52b5f-4e70-4007-b405-a0b0b2e63268), you can no longer use it. (The rejected query is attached as the 'sql' property of this error)\n    at checkTransaction (/usr/src/app/node_modules/sequelize/lib/sequelize.js:294:23)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:304:7\n    at /usr/src/app/node_modules/retry-as-promised/dist/index.js:59:25\n    at new Promise (<anonymous>)\n    at retryAsPromised (/usr/src/app/node_modules/retry-as-promised/dist/index.js:48:12)\n    at Sequelize.query (/usr/src/app/node_modules/sequelize/lib/sequelize.js:300:12)\n    at MySQLQueryInterface.bulkUpdate (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:366:33)\n    at Loan.update (/usr/src/app/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[2.7,2.04,1.69],"uptime":111171.04},"process":{"argv":["/usr/local/bin/node","/usr/src/app/dist/app.js"],"cwd":"/usr/src/app","execPath":"/usr/local/bin/node","gid":0,"memoryUsage":{"arrayBuffers":178420,"external":1081794,"heapTotal":57188352,"heapUsed":24588048,"rss":90120192},"pid":24579,"uid":0,"version":"v18.15.0"},"stack":"Error: commit has been called on this transaction(edd52b5f-4e70-4007-b405-a0b0b2e63268), you can no longer use it. (The rejected query is attached as the 'sql' property of this error)\n    at checkTransaction (/usr/src/app/node_modules/sequelize/lib/sequelize.js:294:23)\n    at /usr/src/app/node_modules/sequelize/lib/sequelize.js:304:7\n    at /usr/src/app/node_modules/retry-as-promised/dist/index.js:59:25\n    at new Promise (<anonymous>)\n    at retryAsPromised (/usr/src/app/node_modules/retry-as-promised/dist/index.js:48:12)\n    at Sequelize.query (/usr/src/app/node_modules/sequelize/lib/sequelize.js:300:12)\n    at MySQLQueryInterface.bulkUpdate (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:366:33)\n    at Loan.update (/usr/src/app/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":23,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":"checkTransaction","line":294,"method":null,"native":false},{"column":7,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":null,"line":304,"method":null,"native":false},{"column":25,"file":"/usr/src/app/node_modules/retry-as-promised/dist/index.js","function":null,"line":59,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":12,"file":"/usr/src/app/node_modules/retry-as-promised/dist/index.js","function":"retryAsPromised","line":48,"method":null,"native":false},{"column":12,"file":"/usr/src/app/node_modules/sequelize/lib/sequelize.js","function":"Sequelize.query","line":300,"method":"query","native":false},{"column":33,"file":"/usr/src/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"MySQLQueryInterface.bulkUpdate","line":366,"method":"bulkUpdate","native":false},{"column":54,"file":"/usr/src/app/node_modules/sequelize/lib/model.js","function":"Loan.update","line":2010,"method":"update","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
